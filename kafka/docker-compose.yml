version: "3.5"

services:
  zookeeper:
    hostname: zookeeper
    container_name: cont-zookeeper
    build:
      context: docker/zookeeper
    command: tail -f /dev/null
    #volumes:
    #- ./docker/zookeeper/zoo.cfg:/conf/zoo.cfg

    #ports:
      #- 2181:2181

    networks:
      - zookeeper-net
      - mariadb-univ_net

  kafka:
    depends_on:
      - zookeeper
    environment:
      ZOOKEEPER_IP: cont-zookeeper

    hostname: kafka
    container_name: cont-kafka
    build:
      context: docker/kafka
    command: tail -f /dev/null

    volumes:
    - ./docker/kafka/data:/data
    - ./docker/kafka/logs:/logs

    #ports:
      #- 9092:9092 #broker
      #- 7203:7203 #publishing

    networks:
      - zookeeper-net
      - mariadb-univ_net

networks:
  zookeeper-net:
  mariadb-univ_net:
    external: true
